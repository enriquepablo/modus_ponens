transforms       = _{ SOI ~ rtransforms ~ EOI }

rtransforms  = { transform ~ ((";"|"âˆ§") ~ transform)* }

transform   = { var ~ "=" ~ v_expr }

var         = @{ ("<" ~ &ASCII_ALPHA_UPPER) ~ ASCII_ALPHA_UPPER ~ ASCII_ALPHA* ~ ('0'..'9')* ~ ">" }

v_expr = {
      monadicExpr
    | dyadicExpr
}

monadicExpr = { monadicOp ~ term }

dyadicExpr = { term ~ dyadicOp ~ term }

term = _{ v_decimal | var | "(" ~ v_expr ~ ")" }

monadicOp = {
    "-" | "log"  | "exp" | "sin" | "cos" | "tan"
  | "floor"  | "ceil" | "asin" | "acos" | "atan"
}

dyadicOp = {
    "-" | "+" | "**" | "*" | "/" | "%"
}

v_decimal = @{ "-"? ~ ASCII_DIGIT+ ~ ("." ~ ASCII_DIGIT*)? }

WHITESPACE = _{ (" " | "\t" | NEWLINE)+ }
